<?xml version="1.0"?>

<project name="JInput Linux port, Native code" basedir="." default="compileNativeJinputLib">

    <target name="init">
    </target>
    
    <target name="createNativeDefinitions.java" depends="init">
        <exec dir="." executable="./getDefinitions" os="Linux" output="../java/net/java/games/input/NativeDefinitions.java">
            <arg line="/usr/include/linux/input.h"/>
        </exec>
    </target>

    <target name="compileNativeJinputLib" depends="init">
        <exec dir="." executable="g++" os="Linux">
            <arg line="-I${java.home}/include -I${java.home}/include/linux -I${java.home}/../include -I${java.home}/../include/linux --shared -DLOGTRACE -o libjinput-linux.so eventInterface.cpp EventDevice.cpp eventInterfaceJNI.c"/>
        </exec>
    </target>
</project>

